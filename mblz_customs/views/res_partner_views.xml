<odoo>
    <data>
        <record id="view_partner_mblz_api_form" model="ir.ui.view">
            <field name="model">res.partner</field>
            <field name="name">view.partner.mblz.api.form</field>
            <field name="inherit_id" ref="base.view_partner_form" />
            <field name="arch" type="xml">
                <xpath expr="//notebook" position="inside">
                    <page name="mblz_api" string="Mobilize Api">
                        <group colspan="2">
                            <label for="partner_token" />
                            <div>
                                <field name="partner_token" class="oe_online" readonly="1" />
                                <button name="generate_token" type="object" string="â‡’ Generate Token" attrs="{'invisible': [('partner_token', '!=', False)]}" class="oe_inline oe_link" groups="base.group_user" />
                                <button name="generate_token" type="object" string="â‡’ Re-Generate Token" attrs="{'invisible': [('partner_token', '=', False)]}" class="oe_inline oe_link" groups="base.group_user" />
                            </div>
                        </group>
                        <group colspan="2">
                            <div>
                                <field name='sync_state'/>
                                <button class="btn-primary" name="api_sync" type="object" string="Sincronizar" attrs="{'invisible': [('sync_state', '!=', 'draft')]}" />
                            </div>
                        </group>
                        <group colspan="2">
                            <label for="mblz_services_ids" />
                            <div>
                                <field name="mblz_services_ids" class="oe_online">
                                    <tree string="Servicios Api" create="true" delete="true" edit="true" editable="bottom">
                                        <field name="name" />
                                        <field name="service_type_id" />
                                        <field name="partner_id" />
                                        <field name="api_active" widget="boolean_toggle" />
                                    </tree>
                                    <form string="Databases" create="true" delete="true" edit="true">
                                        <sheet>
                                            <div class="oe_title">
                                                <label for="name" class="oe_edit_only" />
                                                <h1>
                                                    <field name="name" placeholder="Nombre del servicio..." />
                                                </h1>
                                            </div>
                                            <field name="service_type_id" />
                                            <field name="partner_id" />
                                            <field name="api_active" widget="boolean_toggle" />
                                        </sheet>
                                    </form>
                                </field>
                            </div>
                        </group>
                        <group colspan="2">
                            <label for="db_ids" />
                            <div>
                                <field name="db_ids" class="oe_online">
                                    <tree string="Databases" create="true" delete="true" edit="true" editable="bottom">
                                        <field name="name" />
                                        <field name="db_uuid" />
                                        <field name="partner_id" />
                                        <field name="active" widget="boolean_toggle" />
                                    </tree>
                                    <form string="Databases" create="true" delete="true" edit="true">
                                        <sheet>
                                            <div class="oe_title">
                                                <label for="name" class="oe_edit_only" />
                                                <h1>
                                                    <field name="name" placeholder="DName of database..." />
                                                </h1>
                                            </div>
                                            <field name="db_uuid" />
                                            <field name="partner_id" />
                                            <field name="active" widget="boolean_toggle" />
                                        </sheet>
                                    </form>
                                </field>
                            </div>
                        </group>

                        
                    </page>
                </xpath>
            </field>
        </record>
    </data>
</odoo>